!function(){"use strict";angular.module("app",["app.controllers","app.directives","app.videoCover","planetoid","ngAnimate","ngCookies","duScroll","angular-inview","ui.router"]).config(["$stateProvider","$urlRouterProvider",function(a,b){a.state("app",{url:"",abstract:!0,templateUrl:"views/main.html",controller:"AppCtrl as app"}).state("app.home",{url:"/home",views:{mainContent:{templateUrl:"views/home.html",controller:"HomeCtrl as home"}}}),b.otherwise("/home")}])}(),function(){"use strict";angular.module("app.controllers",[]).controller("AppCtrl",function(){}).controller("HomeCtrl",function(){gapi.hangout.render("hangout",{render:"createhangout",invites:[{id:"grant.jordan904@gmail.com",invite_type:"EMAIL"}]})})}(),function(){"use strict";angular.module("app.directives",[]).directive("jMenu",["$window","$animate","$timeout",function(a,b,c){return{restrict:"E",templateUrl:"views/partials/menu.html",link:function(d,e,f){c(function(){page_loading_screen.finish()},1500);var g=e.find(".menu-text"),h=e.find("button"),i=e.find("#menu");i.css({display:"none"}),d.isCollapsed=!0,d.toggle=function(){d.isCollapsed?i.css({display:"block"}).addClass("menu").removeClass("menuHidden"):(i.addClass("menuHidden").removeClass("menu"),c(function(){i.css({display:"none"})},1e3)),d.isCollapsed=!d.isCollapsed},angular.element(a).bind("scroll",function(){this.pageYOffset>=50?(g.removeClass("fadeIn").addClass("fadeOut"),b.setClass(h,"menu-button-round","menu-button",{from:{opacity:0},to:{opacity:1}}),d.$apply()):(d.isCollapsed&&g.removeClass("fadeOut").addClass("fadeIn"),b.removeClass(h,"menu-button-round"),b.addClass(h,"menu-button",{from:{opacity:0},to:{opacity:1}}),d.$apply())})}}}]).directive("scrollToElem",["$document",function(a){return{restrict:"A",link:function(b,c,d){b.inView=function(b,c,d){c&&a.duScrollToElement(d.element,0,1500)}}}}]).directive("videoCover",["$window","videoCover",function(a,b){return{restrict:"A",templateUrl:"views/partials/videoCover.html",link:function(c,d,e){var f=d.find("video");angular.element(a);b.initVideoSize(f)}}}]).directive("navDown",["$document",function(a){return{restrict:"A",link:function(b,c,d){var e=angular.element(document.getElementById(d.navDown));c.on("click",function(){a.duScrollToElement(e,0,1500)})}}}]).directive("fbMessage",function(){return{restrict:"E",template:'<div class="fb-messengermessageus" messenger_app_id="95100348886" page_id="232973313804871"color="blue"size="large"></div>',link:function(a,b,c){window.fbAsyncInit=function(){FB.init({appId:"95100348886",xfbml:!0,version:"v2.6"})},function(a,b,c){var d,e=a.getElementsByTagName(b)[0];a.getElementById(c)||(d=a.createElement(b),d.id=c,d.src="//connect.facebook.net/en_US/sdk.js",e.parentNode.insertBefore(d,e))}(document,"script","facebook-jssdk")}}}).directive("gHangouts",function(){return{restrict:"E",template:'<div id="hangout"></div>',link:function(a,b,c){window.___gcfg={lang:"en-US",parsetags:"explicit"}}}}).directive("myWork",["$http","$sce","$animate","$window",function(a,b,c,d){return{restrict:"E",templateUrl:"views/partials/myWork.html",controllerAs:"work",bindToController:!0,controller:function(){function d(c){a.get("./php/works.php",{params:{action:"getWork",id:h}}).then(function(a){switch(a.data.length>0&&(f.iframeLink=b.trustAsResourceUrl(a.data[0].url),f.title=a.data[0].title,f.description=a.data[0].about,f.tags=a.data[0].tags.split(","),4==h?f.scroll="no":f.scroll="yes"),c){case 1:g.removeClass("slideOutRight").addClass("slideInLeft");break;case 2:g.removeClass("slideOutLeft").addClass("slideInRight")}})}var e,f=this,g=angular.element("#workView"),h=2;a.get("./php/works.php",{params:{action:"countWork"}}).then(function(a){e=a.data[0]["COUNT(*)"]}),f.iframeLink="",f.isScrollable="no",f.title="",f.description="",f.tags=[],f.scroll="no",f.nextWork=function(){h<e?h++:h=1,c.addClass(g,"slideOutRight").then(function(){d(1)})},f.prevWork=function(){1!==h?h--:h=e,c.addClass(g,"slideOutLeft").then(function(){d(2)})},d()},link:function(a,b,c,e){var f=b.find("iframe");a.$watch(function(){return e.title},function(a){switch(a){case"Ancient City App":var b=angular.element(d).width();b>768&&f.css({width:"50%",transform:"translateX(75%)"});break;default:f.css({width:"100%",transform:"translateX(0)"})}})}}}]).directive("skillsCanvas",["$window",function(a){return{restrict:"E",link:function(b,c,d){function e(a,b,c,d){var e=new THREE.MeshPhongMaterial({color:16775589,shininess:50}),f=["PHP","Javascript","Angular","CSS","Java","Android","HTML"];j.load("fonts/shareTechMono.json",function(g){var h=new THREE.TextGeometry(f[a],{font:g,size:.5,height:.1,bevelEnabled:!0,bevelThickness:.05,bevelSize:.03}),i=new THREE.Mesh(h,e);i.position.set(b,c,d),s.push(i),o.add(i)})}function f(){requestAnimationFrame(f),o.rotation.z+=.01,o.rotation.x+=.01,o.rotation.y+=.01,s.length>0&&angular.forEach(s,function(a){a.rotation.x+=.01,a.rotation.y+=.01,a.rotation.z+=.01}),i.render(h,k)}function g(){requestAnimationFrame(g),s.length>0&&angular.forEach(s,function(a){a.lookAt(k.position)}),i.render(h,k)}var h=new THREE.Scene,i=new THREE.WebGLRenderer({antialias:!0});i.setPixelRatio(window.devicePixelRatio),i.setSize(c.width(),c.height()),i.setClearColor(6842723,1),c.append(i.domElement);var j=new THREE.FontLoader,k=new THREE.PerspectiveCamera(60,c.width()/c.height(),1,1e3);c.width()<490?k.position.z=20:k.position.z=15,h.add(new THREE.AmbientLight(16777215,.65));var l=new THREE.DirectionalLight(16777215,.35),m=new THREE.DirectionalLight(16777215,.35);l.position.set(50,0,15),m.position.set(-50,0,15),h.add(l),h.add(m);var n=new THREE.OrbitControls(k,i.domElement);n.minDistance=15,n.maxDistance=20;var o=new THREE.Group;h.add(o);var p=new THREE.DodecahedronGeometry(3),q=new THREE.ImageUtils.loadTexture("img/texture.jpg"),r=[new THREE.MeshPhongMaterial({map:q,shininess:75}),new THREE.MeshPhongMaterial({color:14373985,shininess:75,wireframe:!0,transparent:!0})];o.add(THREE.SceneUtils.createMultiMaterialObject(p,r));for(var s=[],t=new THREE.LineBasicMaterial({color:14373985}),u=0,v=0;v<p.vertices.length;v++)if(v%3==0){var w=p.vertices[v],x=new THREE.Geometry,y=2*w.x,z=2*w.y,A=2*w.z;x.vertices.push(new THREE.Vector3(w.x,w.y,w.z),new THREE.Vector3(y,z,A));var B=new THREE.Line(x,t);o.add(B),e(u,y,z,A),u++}var C=(new THREE.SphereGeometry(3,64,64),new THREE.SphereGeometry(4.25,32,32)),D=new THREE.MeshBasicMaterial({color:16777215,opacity:.25,shading:THREE.FlatShading,wireframe:!0,transparent:!0});o.add(new THREE.Mesh(C,D)),angular.element(a).on("resize",function(){k.aspect=c.width()/c.height(),k.updateProjectionMatrix(),i.setSize(c.width(),c.height())}),c.width()<490?f():g(),prettyPrint()}}}])}(),function(){"use strict";angular.module("app.videoCover",[]).factory("videoCover",function(){function a(a){var b,c,d=$(window).width(),e=$(window).height();a.data("height")/a.data("width");d<1e3?(b=e,c=d,a.css({"margin-top":0,"margin-left":-(c-d)/2+"px"}),a.width(c).height(b)):(b=e,c=d,a.width(c).height(b))}var b={};return b.initVideoSize=function(b){b.data("height",b.height()),b.data("width",b.width()),a(b)},b})}();var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},Fabrique;!function(a){!function(a){a[a.text=0]="text",a[a.password=1]="password",a[a.number=2]="number"}(a.InputType||(a.InputType={}));var b=a.InputType,c=function(){function a(a,c,d,e){var f=this;void 0===d&&(d=b.text),void 0===e&&(e=""),this.focusIn=new Phaser.Signal,this.focusOut=new Phaser.Signal,this.id=c,this.type=d,this.game=a;var g=this.game.canvas.getBoundingClientRect().top+document.body.scrollTop;this.element=document.createElement("input"),this.element.id=c,this.element.style.position="absolute",this.element.style.top=g+"px",this.element.style.left=(-20).toString()+"px",this.element.style.width=10..toString()+"px",this.element.style.height=10..toString()+"px",this.element.value=this.value,this.element.type=b[d],this.element.addEventListener("focusin",function(){f.focusIn.dispatch()}),this.element.addEventListener("focusout",function(){f.focusOut.dispatch()}),document.body.appendChild(this.element)}return a.prototype.addKeyUpListener=function(a){this.callback=a,document.addEventListener("keyup",this.callback)},a.prototype.blockKeyDownEvents=function(){document.addEventListener("keydown",this.preventKeyPropagation)},a.prototype.preventKeyPropagation=function(a){a.stopPropagation?a.stopPropagation():event.cancelBubble=!0},a.prototype.unblockKeyDownEvents=function(){document.removeEventListener("keydown",this.preventKeyPropagation)},a.prototype.removeEventListener=function(){document.removeEventListener("keyup",this.callback)},a.prototype.destroy=function(){document.body.removeChild(this.element)},a.prototype.setMax=function(a,c){if(void 0!==a)if(this.type===b.text||this.type===b.password)this.element.maxLength=parseInt(a,10);else if(this.type===b.number){if(this.element.max=a,void 0===c)return;this.element.min=c}},Object.defineProperty(a.prototype,"value",{get:function(){return this.element.value},set:function(a){this.element.value=a},enumerable:!0,configurable:!0}),a.prototype.focus=function(){var a=this;if(this.element.focus(),!this.game.device.desktop&&this.game.device.chrome)var b=window.innerWidth,c=window.innerHeight,d=!1,e=setInterval(function(){(b>window.innerWidth||c>window.innerHeight)&&(d=!0),d&&b===window.innerWidth&&c===window.innerHeight&&(a.focusOut.dispatch(),clearInterval(e))},50)},a.prototype.blur=function(){this.element.blur()},Object.defineProperty(a.prototype,"hasSelection",{get:function(){return this.type!==b.number&&this.element.selectionStart!==this.element.selectionEnd},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"caretStart",{get:function(){return this.element.selectionEnd},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"caretEnd",{get:function(){return this.element.selectionStart},enumerable:!0,configurable:!0}),a.prototype.getCaretPosition=function(){return this.type===b.number?-1:this.element.selectionStart},a.prototype.setCaretPosition=function(a){this.type!==b.number&&this.element.setSelectionRange(a,a)},a}();a.InputElement=c}(Fabrique||(Fabrique={}));var Fabrique;!function(a){var b=function(b){function c(c,d,e,f){var g=this;switch(void 0===f&&(f={}),b.call(this,c,d,e),this.focusOutOnEnter=!0,this.placeHolder=null,this.box=null,this.focus=!1,this.value="",this.windowScale=1,this.blockInput=!0,this.blink=!0,this.cnt=0,this.inputOptions=f,this.inputOptions.width=f.width||150,this.inputOptions.padding=f.padding||0,this.inputOptions.textAlign=f.textAlign||"left",this.inputOptions.type=f.type||a.InputType.text,this.inputOptions.borderRadius=f.borderRadius||0,this.inputOptions.height=f.height||14,this.inputOptions.fillAlpha=void 0===f.fillAlpha?1:f.fillAlpha,this.inputOptions.selectionColor=f.selectionColor||"rgba(179, 212, 253, 0.8)",this.inputOptions.zoom=!c.device.desktop&&(f.zoom||!1),this.box=new a.InputBox(this.game,f),this.setTexture(this.box.generateTexture()),this.textMask=new a.TextMask(this.game,f),this.addChild(this.textMask),this.domElement=new a.InputElement(this.game,"phaser-input-"+(1e4*Math.random()|0).toString(),this.inputOptions.type,this.value),this.domElement.setMax(this.inputOptions.max,this.inputOptions.min),this.selection=new a.SelectionHighlight(this.game,this.inputOptions),this.selection.mask=this.textMask,this.addChild(this.selection),f.placeHolder&&f.placeHolder.length>0&&(this.placeHolder=new Phaser.Text(c,this.inputOptions.padding,this.inputOptions.padding,f.placeHolder,{font:f.font||"14px Arial",fontWeight:f.fontWeight||"normal",fill:f.placeHolderColor||"#bfbebd"}),this.placeHolder.mask=this.textMask,this.addChild(this.placeHolder)),this.cursor=new Phaser.Text(c,this.inputOptions.padding,this.inputOptions.padding-2,"|",{font:f.font||"14px Arial",fontWeight:f.fontWeight||"normal",fill:f.cursorColor||"#000000"}),this.cursor.visible=!1,this.addChild(this.cursor),this.text=new Phaser.Text(c,this.inputOptions.padding,this.inputOptions.padding,"",{font:f.font||"14px Arial",fontWeight:f.fontWeight||"normal",fill:f.fill||"#000000"}),this.text.mask=this.textMask,this.addChild(this.text),this.offscreenText=new Phaser.Text(c,this.inputOptions.padding,this.inputOptions.padding,"",{font:f.font||"14px Arial",fontWeight:f.fontWeight||"normal",fill:f.fill||"#000000"}),this.inputOptions.textAlign){case"left":this.text.anchor.set(0,0),this.cursor.x=this.inputOptions.padding+this.getCaretPosition();break;case"center":this.text.anchor.set(.5,0),this.text.x+=this.inputOptions.width/2,this.cursor.x=this.inputOptions.padding+this.inputOptions.width/2-this.text.width/2+this.getCaretPosition();break;case"right":this.text.anchor.set(1,0),this.text.x+=this.inputOptions.width,this.cursor.x=this.inputOptions.padding+this.inputOptions.width}this.inputEnabled=!0,this.input.useHandCursor=!0,this.game.input.onDown.add(this.checkDown,this),this.domElement.focusOut.add(function(){a.Plugins.InputField.KeyboardOpen&&(g.endFocus(),g.inputOptions.zoom&&g.zoomOut())})}return __extends(c,b),c.prototype.checkDown=function(b){if(this.value||this.resetText(),this.input.checkPointerOver(b)){if(this.focus)return void this.setCaretOnclick(b);this.inputOptions.zoom&&!a.Plugins.InputField.Zoomed&&this.zoomIn(),this.startFocus()}else this.focus===!0&&(this.endFocus(),this.inputOptions.zoom&&this.zoomOut())},c.prototype.update=function(){if(this.focus){if(30!==this.cnt)return this.cnt++;this.cursor.visible=this.blink,this.blink=!this.blink,this.cnt=0}},c.prototype.endFocus=function(){var b=this;this.focus&&(this.domElement.removeEventListener(),this.blockInput===!0&&this.domElement.unblockKeyDownEvents(),this.focus=!1,0===this.value.length&&null!==this.placeHolder&&(this.placeHolder.visible=!0),this.cursor.visible=!1,this.game.device.desktop?setTimeout(function(){b.domElement.blur()},0):this.domElement.blur(),this.game.device.desktop||(a.Plugins.InputField.KeyboardOpen=!1,a.Plugins.InputField.onKeyboardClose.dispatch()))},c.prototype.startFocus=function(){var b=this;this.focus=!0,null!==this.placeHolder&&(this.placeHolder.visible=!1),this.game.device.desktop?setTimeout(function(){b.keyUpProcessor()},0):this.keyUpProcessor(),this.game.device.desktop||(a.Plugins.InputField.KeyboardOpen=!0,a.Plugins.InputField.onKeyboardOpen.dispatch())},c.prototype.keyUpProcessor=function(){this.domElement.addKeyUpListener(this.keyListener.bind(this)),this.domElement.focus(),this.blockInput===!0&&this.domElement.blockKeyDownEvents()},c.prototype.updateText=function(){var b="";if(this.inputOptions.type===a.InputType.password)for(var c=0;c<this.value.length;c++)b+="*";else if(this.inputOptions.type===a.InputType.number){var d=parseInt(this.value);b=d<parseInt(this.inputOptions.min)?this.value=this.domElement.value=this.inputOptions.min:d>parseInt(this.inputOptions.max)?this.value=this.domElement.value=this.inputOptions.max:this.value}else b=this.value;if(this.text.setText(b),this.text.width>this.inputOptions.width)this.text.anchor.x=1,this.text.x=this.inputOptions.padding+this.inputOptions.width;else switch(this.inputOptions.textAlign){case"left":this.text.anchor.set(0,0),this.text.x=this.inputOptions.padding;break;case"center":this.text.anchor.set(.5,0),this.text.x=this.inputOptions.padding+this.inputOptions.width/2;break;case"right":this.text.anchor.set(1,0),this.text.x=this.inputOptions.padding+this.inputOptions.width}},c.prototype.updateCursor=function(){if(this.text.width>this.inputOptions.width||"right"===this.inputOptions.textAlign)this.cursor.x=this.inputOptions.padding+this.inputOptions.width;else switch(this.inputOptions.textAlign){case"left":this.cursor.x=this.inputOptions.padding+this.getCaretPosition();break;case"center":this.cursor.x=this.inputOptions.padding+this.inputOptions.width/2-this.text.width/2+this.getCaretPosition()}},c.prototype.getCaretPosition=function(){var b=this.domElement.getCaretPosition();if(-1===b)return this.text.width;var c=this.value;if(this.inputOptions.type===a.InputType.password){c="";for(var d=0;d<this.value.length;d++)c+="*"}return this.offscreenText.setText(c.slice(0,b)),this.offscreenText.width},c.prototype.setCaretOnclick=function(a){var b=this.text.toLocal(new PIXI.Point(a.x,a.y),this.game.world).x;this.inputOptions.textAlign&&"center"===this.inputOptions.textAlign&&(b+=this.text.width/2);for(var c=this.text.width/this.value.length,d=0,e=0;e<this.value.length;e++)if(b>=e*c&&b<=(e+1)*c){d=e;break}b>(this.value.length-1)*c&&(d=this.value.length),this.startFocus(),this.domElement.setCaretPosition(d),this.updateCursor()},c.prototype.updateSelection=function(){if(this.domElement.hasSelection){var b=this.value;if(this.inputOptions.type===a.InputType.password){b="";for(var c=0;c<this.value.length;c++)b+="*"}switch(b=b.substring(this.domElement.caretStart,this.domElement.caretEnd),this.offscreenText.setText(b),this.selection.updateSelection(this.offscreenText.getBounds()),this.inputOptions.textAlign){case"left":this.selection.x=this.inputOptions.padding;break;case"center":this.selection.x=this.inputOptions.padding+this.inputOptions.width/2-this.text.width/2}}else this.selection.clear()},c.prototype.zoomIn=function(){if(!a.Plugins.InputField.Zoomed){var b=this.getBounds();window.innerHeight>window.innerWidth?this.windowScale=this.game.width/(1.5*b.width):this.windowScale=this.game.width/2/(1.5*b.width);var c=(this.game.width-1.5*b.width)/2/this.windowScale;this.game.world.scale.set(this.game.world.scale.x*this.windowScale,this.game.world.scale.y*this.windowScale),this.game.world.pivot.set(b.x-c,b.y-2*this.inputOptions.padding),a.Plugins.InputField.Zoomed=!0}},c.prototype.zoomOut=function(){a.Plugins.InputField.Zoomed&&(this.game.world.scale.set(this.game.world.scale.x/this.windowScale,this.game.world.scale.y/this.windowScale),this.game.world.pivot.set(0,0),a.Plugins.InputField.Zoomed=!1)},c.prototype.keyListener=function(a){return this.value=this.domElement.value,13===a.keyCode?void(this.focusOutOnEnter&&this.endFocus()):(this.updateText(),this.updateCursor(),this.updateSelection(),void a.preventDefault())},c.prototype.destroy=function(a){this.game.input.onDown.remove(this.checkDown,this),this.domElement.focusIn.removeAll(),this.domElement.focusOut.removeAll(),this.domElement.destroy(),b.prototype.destroy.call(this,a)},c.prototype.resetText=function(){this.setText()},c.prototype.setText=function(a){void 0===a&&(a=""),null!==this.placeHolder&&(a.length>0?this.placeHolder.visible=!1:this.placeHolder.visible=!0),this.value=a,this.domElement.value=this.value,this.updateText(),this.updateCursor(),this.endFocus()},c}(Phaser.Sprite);a.InputField=b}(Fabrique||(Fabrique={}));var Fabrique;!function(a){var b=function(a){function b(b,c){a.call(this,b,0,0);var d=c.backgroundColor?parseInt(c.backgroundColor.slice(1),16):16777215,e=c.borderRadius||0,f=c.borderColor?parseInt(c.borderColor.slice(1),16):9803157,g=c.fillAlpha,h=c.height;c.font&&(h=Math.max(parseInt(c.font.substr(0,c.font.indexOf("px")),10),h)),h=2*c.padding+h;var i=c.width;i=2*c.padding+i,this.beginFill(d,g).lineStyle(c.borderWidth||1,f,g),e>0?this.drawRoundedRect(0,0,i,h,e):this.drawRect(0,0,i,h)}return __extends(b,a),b}(Phaser.Graphics);a.InputBox=b}(Fabrique||(Fabrique={}));var Fabrique;!function(a){var b=function(a){function b(b,c){a.call(this,b,c.padding,c.padding),this.inputOptions=c}return __extends(b,a),b.prototype.updateSelection=function(a){var c=Phaser.Color.webToColor(this.inputOptions.selectionColor);this.clear(),this.beginFill(b.rgb2hex(c),c.a),this.drawRect(a.x,a.y,a.width,a.height-this.inputOptions.padding)},b.rgb2hex=function(a){return parseInt(("0"+a.r.toString(16)).slice(-2)+("0"+a.g.toString(16)).slice(-2)+("0"+a.b.toString(16)).slice(-2),16)},b}(Phaser.Graphics);a.SelectionHighlight=b}(Fabrique||(Fabrique={}));var Fabrique;!function(a){var b=function(a){function b(b,c){a.call(this,b,c.padding,c.padding);var d=(c.borderRadius,c.height);c.font&&(d=Math.max(parseInt(c.font.substr(0,c.font.indexOf("px")),10),d));var e=c.width;d*=1.3,this.beginFill(0),this.drawRect(0,0,e,d)}return __extends(b,a),b}(Phaser.Graphics);a.TextMask=b}(Fabrique||(Fabrique={}));var Fabrique;!function(a){var b;!function(b){var c=function(b){function c(a,c){b.call(this,a,c),this.addInputFieldFactory()}return __extends(c,b),c.prototype.addInputFieldFactory=function(){Phaser.GameObjectFactory.prototype.inputField=function(b,c,d,e){void 0===e&&(e=this.world);var f=new a.InputField(this.game,b,c,d);return e.add(f)},Phaser.GameObjectCreator.prototype.inputField=function(b,c,d){return new a.InputField(this.game,b,c,d)}},c.Zoomed=!1,c.KeyboardOpen=!1,c.onKeyboardOpen=new Phaser.Signal,c.onKeyboardClose=new Phaser.Signal,c}(Phaser.Plugin);b.InputField=c}(b=a.Plugins||(a.Plugins={}))}(Fabrique||(Fabrique={})),function(){"use strict";angular.module("planetoid",["planetoid.gameStates","planetoid.enemies","planetoid.player","planetoid.planetoids","planetoid.collisions","planetoid.scoring","planetoid.utils","planetoid.bonuses","planetoid.leaderboard","planetoid.directives"])}(),function(){"use strict";angular.module("planetoid.gameStates",[]).factory("BootState",["LoadState",function(a){var b=function(){};return b.prototype.init=function(a){this.game=a},b.prototype.preload=function(){this.game.load.image("bgMenu","img/planetoid/backgrounds/bgMenu.png"),this.game.load.image("loadingBar","img/planetoid/loading.png")},b.prototype.create=function(){this.game.scale.scaleMode=Phaser.ScaleManager.RESIZE,this.game.scale.pageAlignHorizontally=!0,this.game.scale.pageAlignVertically=!0,this.game.physics.startSystem(Phaser.Physics.ARCADE),this.game.state.add("Load",new a(game)),this.game.state.start("Load")},b}]).factory("LoadState",["MenuState","ptoidUtils",function(a,b){var c=function(a){this.game=a};return c.prototype.preload=function(){var a,c,d=this.game;a=d.add.sprite(d.world.centerX,d.world.centerY,"loadingBar"),c=d.add.text(d.world.centerX,d.world.centerY-100,"Loading...",{fill:"white"}),b.centerGameObject([a,c]),d.load.setPreloadSprite(a),d.add.plugin(Fabrique.Plugins.InputField),d.load.image("title","img/planetoid/title.png"),d.load.image("bgLevel1","img/planetoid/backgrounds/bgLevel1.png"),d.load.image("bgLevel2","img/planetoid/backgrounds/bgLevel2.png"),d.load.image("bgWon","img/planetoid/backgrounds/bgWon.png"),d.load.image("bgLost","img/planetoid/backgrounds/bgLost.png"),d.load.image("btnStart","img/planetoid/buttons/startButton.png"),d.load.image("btnMenu","img/planetoid/buttons/menuButton.png"),d.load.image("btnRestart","img/planetoid/buttons/restartButton.png"),d.load.image("btnNext","img/planetoid/buttons/nextButton.png"),d.load.image("player","img/planetoid/ships/playerShip.png"),d.load.image("enemySm1","img/planetoid/ships/smallEnemy.png"),d.load.image("enemySm2","img/planetoid/ships/smallEnemy2.png"),d.load.image("enemyMd","img/planetoid/ships/mediumEnemy.png"),d.load.image("enemyLg","img/planetoid/ships/largeEnemy.png"),d.load.spritesheet("health","img/planetoid/health/health.png",166,44),d.load.image("healthBonus","img/planetoid/planetoids/planetoidSpecial.png"),d.load.spritesheet("ptoidSm","img/planetoid/planetoids/SmallGrey.png",32,33),d.load.spritesheet("ptoidMd","img/planetoid/planetoids/MediumGrey.png",61,61),d.load.spritesheet("ptoidLg","img/planetoid/planetoids/LargeGrey.png",159,159),d.load.image("ptoidSpcl","img/planetoid/planetoids/planetoidSpecial.png"),d.load.image("laserRed","img/planetoid/bullets/laserRed.png"),d.load.image("laserOrange","img/planetoid/bullets/laserOrange.png"),d.load.spritesheet("explosion","img/planetoid/explosions/explosion_01.png",196,190)},c.prototype.create=function(){this.game.state.add("Menu",new a),this.game.state.start("Menu",!0,!1,this.game)},c}]).factory("MenuState",["PlayState","LostState","WonState","ptoidUtils","leaderFact","$cookies",function(a,b,c,d,e,f){function g(){var a=f.get("username"),b=f.get("playerId"),c=this;if(void 0!==a)e.playerName=a,e.playerId=b,h(this);else{if(a=this.nameInput.value,"Create a Username"===a||""===a)return void alert("Please enter your name to continue");e.nameExists(a).then(function(b){console.log("nameExists response: "),console.log(b),b===!0?alert("This name is already taken. If you created this name in the past then you have cleared your cookies or are accessing the site from a different device. Please choose another name."):(f.put("username",a),f.put("userId",b),h(c))})}}function h(d){d.game.state.add("Play",new a),d.game.state.add("Won",new c),d.game.state.add("Lost",new b),d.game.state.start("Play",!0,!1,d.game,1,5,5e3)}var i=function(){};return i.prototype.init=function(a){this.game=a},i.prototype.create=function(){this.game.add.sprite(0,0,"bgMenu");this.nameInput=this.game.add.inputField(this.game.world.centerX-100,this.game.world.centerY,{font:"18px Arial",fill:"#212121",fontWeight:"bold",width:200,padding:8,borderWidth:1,borderColor:"#DB5461",borderRadius:6,type:Fabrique.InputType.text});var a=f.get("username");void 0!==a?this.nameInput.setText(a):this.nameInput.setText("Create a Username"),this.nameInput.blockInput=!1,this.title=this.game.add.sprite(this.game.world.centerX,0,"title"),this.title.y=2*this.title.height,this.btnStart=this.game.add.button(0,0,"btnStart"),this.btnStart.alignTo(this.nameInput,Phaser.BOTTOM_CENTER),this.btnStart.events.onInputDown.add(g,this),d.scaleElements([this.title,this.btnStart,this.nameInput],this.game),d.centerGameObject([this.title])},i.prototype.resize=function(){d.scaleElements([this.title,this.btnStart,this.nameInput],this.game),this.game.scale.scaleMode=Phaser.ScaleManager.RESIZE,this.game.scale.pageAlignHorizontally=!0,this.game.scale.pageAlignVertically=!0,this.title.x=this.game.world.centerX,this.title.y=2*this.title.height,this.nameInput.x=this.game.world.centerX-100,this.nameInput.y=this.game.world.centerY,this.btnStart.alignTo(this.nameInput,Phaser.BOTTOM_CENTER)},i}]).factory("PlayState",["EnemySmall","Player","PlanetoidLarge","$timeout","Collisions","Score","HealthBonus","ptoidUtils","leaderFact",function(a,b,c,d,e,f,g,h,i){function j(a,b,c,d){b.forEach(function(b){if(b.alive){switch(a.game.physics.arcade.collide(a.player.sprite,b.sprite,c,null,a),a.game.physics.arcade.overlap(a.pBullets,b.sprite,d,null,a),b.sprite.type){case"ptoidLg":case"ptoidMd":case"ptoidSm":a.game.physics.arcade.overlap(a.eBullets,b.sprite,d,null,a)}h.screenWrap(b.sprite,a.game),b.update()}})}var k=function(){};return k.prototype.init=function(b,c,d,e){switch(this.game=b,this.level=c,this.enemiesTotal=d,c){case 1:this.enemyType=a;break;default:this.enemyType=a}this.bonuses=[],this.bonusTime=b.time.now+45e3,this.enemies=[],this.enemyBuffer=e,this.enemyTime=b.time.now+e,this.enemiesDead=0,this.ptoidsLg=[],this.ptoidsMd=[],this.ptoidsSm=[],this.ptoidTotal=0,this.ptoidTime=0},k.prototype.preload=function(){this.level%2==0?this.game.add.sprite(0,0,"bgLevel2"):this.game.add.sprite(0,0,"bgLevel1"),this.pBullets=this.game.add.group(),this.eBullets=this.game.add.group(),this.explosions=this.game.add.group(),this.player=new b(this.game,this.pBullets,this.explosions),this.cursors=this.game.input.keyboard.createCursorKeys()},k.prototype.create=function(){this.enemyLabel=this.game.add.text(this.game.world.centerX,0,"Enemies Killed: 0/"+this.enemiesTotal,{font:"24px Arial",fill:"#FFFFFF",stroke:"#686963",strokeThickness:1}),h.scaleElements([this.enemyLabel],this.game),this.enemyLabel.y=this.game.height-this.enemyLabel.height/2,this.pBullets.enableBody=!0,this.pBullets.physicsBodyType=Phaser.Physics.ARCADE,this.pBullets.createMultiple(40,"laserRed"),this.pBullets.setAll("anchor.x",.5),this.pBullets.setAll("anchor.y",.5),this.eBullets.enableBody=!0,this.eBullets.physicsBodyType=Phaser.Physics.ARCADE,this.eBullets.createMultiple(100,"laserOrange"),this.eBullets.setAll("anchor.x",.5),this.eBullets.setAll("anchor.y",.5);for(var a=0;a<10;a++){var b=this.explosions.create(0,0,"explosion",[0],!1);h.centerGameObject([b]),b.animations.add("explosion")}this.Score=new f(this.game),this.Collision=new e,this.game.input.keyboard.addKeyCapture([Phaser.Keyboard.SPACEBAR]),h.centerGameObject([this.enemyLabel])},k.prototype.update=function(){this.Score.update(),this.enemyLabel.setText("Enemies killed: "+this.enemiesDead+"/"+this.enemiesTotal),this.game.physics.arcade.overlap(this.eBullets,this.player.sprite,this.Collision.bulletHitPlayer,null,this),this.game.time.now>this.enemyTime&&this.enemies.length<this.enemiesTotal&&(this.enemies.push(new this.enemyType(this.enemies.length,this.game,this.player.sprite,this.eBullets)),this.enemyTime=this.game.time.now+15e3),this.game.time.now>this.ptoidTime&&this.ptoidTotal<7&&(this.ptoidsLg.push(new c(this.ptoidsLg.length,this.game,this.player,this.ptoidsMd,this.ptoidsSm)),this.ptoidTime=this.game.time.now+5e3,this.ptoidTotal++),this.game.time.now>this.bonusTime&&(this.bonuses.push(new g(this.bonuses.length,this.game,this.player)),this.bonusTime=this.game.time.now+3e4),j(this,this.enemies,this.Collision.collided,this.Collision.bulletHitEnemy),j(this,this.ptoidsLg,this.Collision.collided,this.Collision.bulletHitPtoid),j(this,this.ptoidsMd,this.Collision.collided,this.Collision.bulletHitPtoid),j(this,this.ptoidsSm,this.Collision.collided,this.Collision.bulletHitPtoid),j(this,this.bonuses,this.Collision.collided,this.Collision.bulletHitBonus),this.enemiesDead==this.enemiesTotal&&(this.game.state.start("Won",!0,!1,this.game,this.Score.getScore(),this.level,this.enemiesTotal,this.enemyBuffer),i.saveScore(this.Score.getScore(),this.level)),this.cursors.up.isDown?this.game.physics.arcade.accelerationFromRotation(this.player.sprite.rotation,200,this.player.sprite.body.acceleration):this.cursors.down.isDown?this.game.physics.arcade.accelerationFromRotation(this.player.sprite.rotation*-1,200,this.player.sprite.body.acceleration):this.player.sprite.body.acceleration.set(0),this.cursors.left.isDown?this.player.sprite.body.angularVelocity=-300:this.cursors.right.isDown?this.player.sprite.body.angularVelocity=300:this.player.sprite.body.angularVelocity=0,this.game.input.keyboard.isDown(Phaser.Keyboard.SPACEBAR)&&this.player.fireLaser(),h.screenWrap(this.player.sprite,this.game),this.pBullets.forEachExists(h.screenWrap,this,this.game)},k}]).factory("WonState",["ptoidUtils",function(a){function b(){this.currentLevel++,this.numEnemies+=3,this.enemyBuffer-=333,this.game.state.start("Play",!0,!1,this.game,this.currentLevel,this.numEnemies,this.enemyBuffer)}var c=function(){};return c.prototype.init=function(a,b,c,d,e){this.game=a,this.score=b,this.currentLevel=c,this.numEnemies=d,this.enemyBuffer=e},c.prototype.create=function(){this.game.add.sprite(0,0,"bgWon");var c,d,e,f,g,h;e=this.game.add.text(this.game.world.centerX,125,"You Won",{font:"150px Arial",fill:"#DB5461",stroke:"#686963",strokeThickness:3}),h=this.game.add.text(this.game.world.centerX,275,"Level: "+this.currentLevel,{font:"75px Arial",fill:"#FFFFFF",stroke:"#686963",strokeThickness:1}),f=this.game.add.text(this.game.world.centerX,450,this.score,{font:"150px Arial",fill:"#DB5461",stroke:"#686963",strokeThickness:3}),g=this.game.add.text(this.game.world.centerX,550,"Score ",{font:"35px Arial",fill:"#FFFFFF",stroke:"#686963",strokeThickness:1}),c=this.game.add.button(this.game.world.centerX-250,this.game.world.height-250,"btnMenu",a.goToMenu,this,this.game),d=this.game.add.button(this.game.world.centerX+250,this.game.world.height-250,"btnNext",b,this),a.centerGameObject([e,f,h,g,c,d]),a.scaleElements([e,h,f,g,c,d],this.game)},c}]).factory("LostState",["ptoidUtils",function(a){function b(){this.game.state.start("Play",!0,!1,this.game,1,5,5e3)}var c=function(){};return c.prototype.init=function(a,b,c){this.game=a,this.score=b,this.level=c},c.prototype.create=function(){this.game.add.sprite(0,0,"bgLost");var c,d,e,f,g,h;e=this.game.add.text(this.game.world.centerX,125,"GAME OVER",{font:"150px Arial",fill:"#DB5461",stroke:"#686963",strokeThickness:3}),h=this.game.add.text(this.game.world.centerX,275,"Level: "+this.level,{
font:"75px Arial",fill:"#FFFFFF",stroke:"#686963",strokeThickness:1}),f=this.game.add.text(this.game.world.centerX,450,this.score,{font:"150px Arial",fill:"#DB5461",stroke:"#686963",strokeThickness:3}),g=this.game.add.text(this.game.world.centerX,550,"Score",{font:"35px Arial",fill:"#FFFFFF",stroke:"#686963",strokeThickness:1}),c=this.game.add.button(this.game.world.centerX-250,this.game.world.height-250,"btnMenu",a.goToMenu,this),c.game=this.game,d=this.game.add.button(this.game.world.centerX+250,this.game.world.height-250,"btnRestart",b,this),a.centerGameObject([e,f,g,h,c,d]),a.scaleElements([e,h,f,g,c,d],this.game)},c}])}(),angular.module("planetoid.enemies",[]).factory("EnemySmall",["ptoidUtils",function(a){var b=function(b,c,d,e){var f=c.world.randomX;this.game=c,this.player=d,this.bullets=e,this.alive=!0,this.nextFire=0,this.health=3,this.fireRate=2e3,this.sprite=c.add.sprite(f,0,"enemySm1"),this.sprite.angle=c.rnd.angle(),a.centerGameObject([this.sprite]),c.physics.enable(this.sprite,Phaser.Physics.ARCADE),c.physics.arcade.velocityFromRotation(this.sprite.rotation,100,this.sprite.body.velocity),this.sprite.name=b.toString(),this.sprite.type="shipSm",this.sprite.body.immovable=!1,this.sprite.body.bounce.setTo(1,1)};return b.prototype.damage=function(){return this.health-=1,this.health<=0&&(this.alive=!1,!0)},b.prototype.update=function(){if(this.sprite.rotation=this.game.physics.arcade.angleBetween(this.sprite,this.player),this.game.physics.arcade.distanceBetween(this.sprite,this.player)<750&&this.game.time.now>this.nextFire&&this.bullets.countDead()>0){this.nextFire=this.game.time.now+this.fireRate;var a=this.bullets.getFirstDead();a.reset(this.sprite.x,this.sprite.y),a.rotation=this.game.physics.arcade.moveToObject(a,this.player,500)}},b}]).factory("EnemySmall2",["EnemySmall",function(a){var b=function(b,c,d,e){angular.extend(this,new a(b,c,d,e))};return b.prototype=new a(this.index,this.game,this.player,this.bullets),b}]),function(){"use strict";angular.module("planetoid.player",[]).factory("Player",["$timeout","ptoidUtils","leaderFact",function(a,b,c){var d=function(a,c,d){this.game=a,this.bullets=c,this.explosions=d,this.sprite=a.add.sprite(a.world.centerX,a.world.centerY,"player"),this.sprite.angle+=-90,a.physics.enable(this.sprite,Phaser.Physics.ARCADE),this.sprite.body.drag.set(100),this.sprite.body.maxVelocity.set(200),this.sprite.body.immovable=!1,this.health=8,this.hearts=a.add.sprite(0,0,"health",this.health),b.scaleElements([this.hearts],a),this.hearts.x=a.width-this.hearts.width/2,this.hearts.y=this.hearts.height/2,this.bulletTime=0,b.centerGameObject([this.sprite,this.hearts])};return d.prototype.damage=function(a){return this.health-=a,this.hearts.frame=this.health,this.health<=0},d.prototype.fireLaser=function(){if(this.game.time.now>this.bulletTime){var a=this.bullets.getFirstExists(!1);a&&(a.reset(this.sprite.body.x+26,this.sprite.body.y+26),a.lifespan=2e3,a.rotation=this.sprite.rotation,this.game.physics.arcade.velocityFromRotation(this.sprite.rotation,400,a.body.velocity),this.bulletTime=this.game.time.now+100)}},d.prototype.kill=function(b,d){var e=this;this.hearts.frame=0,c.saveScore(b,d),a(function(){e.game.state.start("Lost",!0,!1,e.game,b,d)},3500)},d}])}(),function(){"use strict";angular.module("planetoid.planetoids",[]).factory("Planetoid",function(){var a=function(a,b){this.game=a,this.player=b,this.alive=!0,this.spinTime=0};return a.prototype.update=function(){if(this.sprite.rotation=this.game.physics.arcade.angleBetween(this.sprite,this.player),this.spinTime<this.game.time.now){switch(this.sprite.frame){case 15:this.sprite.frame=0;break;default:this.sprite.frame+=1}this.spinTime=this.game.time.now+100}},a}).factory("PlanetoidLarge",["Planetoid","PlanetoidMedium","ptoidUtils",function(a,b,c){var d=function(b,d,e,f,g){a.call(this,d,e);var h,i=d.world.randomY;h=Math.floor(2*Math.random())+1==1?0:d.width,this.children=f,this.gchildren=g,this.sprite=d.add.sprite(h,i,"ptoidLg"),this.sprite.angle=d.rnd.angle(),c.centerGameObject([this.sprite]),d.physics.enable(this.sprite,Phaser.Physics.ARCADE),d.physics.arcade.velocityFromRotation(this.sprite.rotation,100,this.sprite.body.velocity),this.sprite.name=b.toString(),this.sprite.type="ptoidLg",this.sprite.body.immovable=!1,this.sprite.body.bounce.setTo(1,1)};return d.prototype=a.prototype,d.prototype.lgDamage=function(){this.sprite.kill(),this.alive=!1;for(var a=0;a<2;a++)this.children.push(new b(this.children.length,this.game,this.player,this.gchildren,this.sprite))},d}]).factory("PlanetoidMedium",["Planetoid","PlanetoidSmall","ptoidUtils",function(a,b,c){var d=function(b,d,e,f,g){a.call(this,d,e),this.children=f,this.parent=g,this.sprite=d.add.sprite(g.x,g.y,"ptoidMd"),b%2==0?this.sprite.angle=45:this.sprite.angle=-45,c.centerGameObject([this.sprite]),d.physics.enable(this.sprite,Phaser.Physics.ARCADE),d.physics.arcade.velocityFromRotation(this.sprite.rotation,100,this.sprite.body.velocity),this.sprite.name=b.toString(),this.sprite.type="ptoidMd",this.sprite.body.immovable=!1,this.sprite.body.bounce.setTo(1,1)};return d.prototype=a.prototype,d.prototype.mdDamage=function(){this.sprite.kill(),this.alive=!1;for(var a=0;a<2;a++)this.children.push(new b(this.children.length,this.game,this.player,this.sprite))},d}]).factory("PlanetoidSmall",["Planetoid","ptoidUtils",function(a,b){var c=function(c,d,e,f){a.call(this,d,e),this.parent=f,this.sprite=d.add.sprite(f.x,f.y,"ptoidSm"),c%2==0?this.sprite.angle=45:this.sprite.angle=-45,b.centerGameObject([this.sprite]),d.physics.enable(this.sprite,Phaser.Physics.ARCADE),d.physics.arcade.velocityFromRotation(this.sprite.rotation,100,this.sprite.body.velocity),this.sprite.name=c.toString(),this.sprite.type="ptoidSm",this.sprite.body.immovable=!1,this.sprite.body.bounce.setTo(1,1)};return c.prototype=a.prototype,c.prototype.damage=function(){this.sprite.kill(),this.alive=!1},c}])}(),function(){"use strict";angular.module("planetoid.collisions",[]).factory("Collisions",["$timeout","ptoidUtils",function(a,b){function c(c,e){var f=e.player.damage(c);f&&(e.pBullets.forEachAlive(function(a){a.kill()},e),e.eBullets.forEachAlive(function(a){a.kill()},e),d(e.player.sprite,e),b.score=e.Score.getScore(),e.player.kill(e.Score.getScore(),e.level),a(function(){e.enemies.forEach(function(a){a.alive&&d(a.sprite,e)}),e.ptoidsLg.forEach(function(a){a.alive&&d(a.sprite,e)}),e.ptoidsMd.forEach(function(a){a.alive&&d(a.sprite,e)}),e.ptoidsSm.forEach(function(a){a.alive&&d(a.sprite,e)})}.bind(null,e),2e3))}function d(a,b){a.kill();var c=b.explosions.getFirstExists(!1);c.reset(a.x,a.y),c.play("explosion",30,!1,!0)}var e=function(){};return e.prototype.bulletHitPlayer=function(a,b){b.kill(),c(1,this)},e.prototype.bulletHitEnemy=function(a,b){b.kill();var c=this.enemies[a.name].damage();c&&(d(a,this),this.Score.scoredPoint("ship",a),this.enemiesDead++)},e.prototype.bulletHitPtoid=function(a,b){switch(b.kill(),b.key){case"laserRed":switch(a.type){case"ptoidLg":this.ptoidTotal--,this.ptoidsLg[a.name].lgDamage();break;case"ptoidMd":this.ptoidsMd[a.name].mdDamage();break;case"ptoidSm":this.ptoidsSm[a.name].damage()}this.Score.scoredPoint(a.type,a)}},e.prototype.bulletHitBonus=function(a,b){switch(b.kill(),a.type){case"healthBonus":this.bonuses[a.name].giveBonus()}},e.prototype.collided=function(a,b){switch(b.type){case"ptoidLg":this.ptoidTotal--,this.ptoidsLg[b.name].lgDamage(),c(10,this);break;case"ptoidMd":this.ptoidsMd[b.name].mdDamage(),c(4,this);break;case"ptoidSm":this.ptoidsSm[b.name].damage(),c(2,this);break;case"shipSm":this.enemies[b.name].damage(),c(1,this);break;case"healthBonus":this.bonuses[b.name].giveBonus()}},e}])}(),function(){"use strict";angular.module("planetoid.scoring",[]).factory("Score",["ptoidUtils",function(a){function b(a,b,c,d){var e=d.game.add.text(a,b,"+"+c,{font:"45px Arial",fill:"#DB5461",stroke:"#686963",strokeThickness:7});e.anchor.setTo(.5,0),e.align="center";var f=d.game.add.tween(e).to({x:d.game.world.centerX,y:50},800,Phaser.Easing.Exponential.In,!0);f.onComplete.add(function(){e.destroy(),d.scoreLabelTween.start(),d.scoreHolder=0,d.scoreBuffer+=c},d.game)}var c=function(b){this.game=b,this.scoreLabel=this.game.add.text(this.game.world.centerX,0,"0",{font:"50px Arial",fill:"#ffffff",stroke:"#535353",strokeThickness:7}),a.centerGameObject([this.scoreLabel]),a.scaleElements([this.scoreLabel],b),this.scoreLabel.y=this.scoreLabel.height/2,this.scoreLabel.align="center",this.scoreLabelTween=this.game.add.tween(this.scoreLabel.scale).to({x:1.5,y:1.5},200,Phaser.Easing.Linear.In).to({x:1,y:1},200,Phaser.Easing.Linear.In),this.score=0,this.scoreBuffer=0,this.scoreHolder=0};return c.prototype.scoredPoint=function(a,c){switch(a){case"ship":this.scoreHolder=10,b(c.x,c.y,10,this);break;case"ptoidLg":this.scoreHolder=1,b(c.x,c.y,1,this);break;case"ptoidMd":this.scoreHolder=3,b(c.x,c.y,3,this);break;case"ptoidSm":this.scoreHolder=5,b(c.x,c.y,5,this)}},c.prototype.update=function(){for(;this.scoreBuffer>0;)this.score+=1,this.scoreLabel.text=this.score,this.scoreBuffer--},c.prototype.getScore=function(){return this.score+this.scoreBuffer+this.scoreHolder},c}])}(),function(){"use strict";angular.module("planetoid.utils",[]).factory("ptoidUtils",function(){return{centerGameObject:function(a){a.forEach(function(a){a.anchor.setTo(.5)})},screenWrap:function(a,b){a.x<0?a.x=b.width:a.x>b.width&&(a.x=0),a.y<0?a.y=b.height:a.y>b.height&&(a.y=0)},goToMenu:function(a){a.game.state.start("Menu",!0,!1,a.game)},scaleElements:function(a,b){b.width>=1400?angular.forEach(a,function(a,b,c){a.scale.setTo(1,1)}):b.width<1400&&b.width>=1e3?angular.forEach(a,function(a,b,c){a.scale.setTo(.75,.75)}):b.width<1e3&&angular.forEach(a,function(a,b,c){a.scale.setTo(.5,.5)})}}})}(),function(){"use strict";angular.module("planetoid.bonuses",[]).factory("HealthBonus",["ptoidUtils",function(a){var b=function(b,c,d){var e=c.world.randomX,f=c.world.randomY;this.game=c,this.player=d,this.alive=!0,this.sprite=c.add.sprite(e,f,"healthBonus"),this.sprite.scale.setTo(.5,.5),this.sprite.type="healthBonus",this.sprite.name=b.toString(),this.sprite.angle=c.rnd.angle(),a.centerGameObject([this.sprite]),c.physics.enable(this.sprite,Phaser.Physics.ARCADE),c.physics.arcade.velocityFromRotation(this.sprite.rotation,100,this.sprite.body.velocity),this.sprite.body.immovable=!1,this.sprite.body.bounce.setTo(1,1)};return b.prototype.update=function(){this.sprite.rotation=this.game.physics.arcade.angleBetween(this.sprite,this.player),a.screenWrap(this.sprite,this.game)},b.prototype.giveBonus=function(){this.sprite.kill(),this.alive=!1,this.player.health=8,this.player.hearts.frame=8},b}])}(),function(){"use strict";angular.module("planetoid.leaderboard",[]).factory("leaderFact",["$http","$q","$rootScope","$cookies",function(a,b,c,d){var e={};return e.playerName=null,e.playerId=null,e.nameExists=function(c){var d=b.defer(),e={action:"userExists",name:c},f={action:"addUser",name:c};return a.get("./php/leaderboard.php",{params:e}).then(function(b){var c=b.data.exists;switch(c){case!0:d.resolve(c);break;case!1:a.post("./php/leaderboard.php",f).then(function(a){var b=a.data.id;isNaN(b)?d.resolve(!0):d.resolve(b)})}}),d.promise},e.saveScore=function(b,e){var f=d.get("userId"),g={action:"addScore",userId:f,score:b,level:e};a.post("./php/leaderboard.php",g).then(function(a){console.log(a),a.data.success&&c.$emit("leaderbordUpdated")});var h={action:"getUserScore"};a.get("./php/leaderboard.php",{params:h}).then(function(d){if(0==d.data.length||d.data[0].highScore<b){var e={action:"setUserScore",score:b,userId:f};a.post("./php/leaderboard.php",e).then(function(a){console.log(a),c.$emit("userScoreUpdated")})}})},e.getLeaders=function(){var c=b.defer(),d={action:"getLeaders"};return a.get("./php/leaderboard.php",{params:d}).then(function(a){c.resolve(a.data)}),c.promise},e}])}(),function(){"use strict";angular.module("planetoid.directives",[]).directive("game",["BootState",function(a){return{restrict:"E",template:'<div id="game-canvas" class="full-size"></div>',link:function(b,c,d){var e=c.find("#game-canvas"),f=parseInt(e.css("height"),10),g=parseInt(e.css("width"),10),h=new Phaser.Game(g,f,Phaser.AUTO,"game-canvas");h.state.add("Boot",new a),h.state.start("Boot",!0,!1,h)}}}]).directive("leaderboard",["leaderFact",function(a){return{restrict:"E",templateUrl:"views/partials/leaderboard.html",controllerAs:"board",bindToController:!0,controller:["$scope","$rootScope",function(b,c){var d=this;d.leaders=[];var e=function(){a.getLeaders().then(function(a){console.log(a),d.leaders=a})},f=c.$on("leaderbordUpdated",function(){e()});e(),b.$on("$destroy",f)}]}}])}(),angular.module("app").run(["$templateCache",function(a){"use strict";a.put("views/home.html","<!-- Top Section. video-cover directive. code found in js/directives.js --><section id=video class=video-cover video-cover></section><!-- Skills section. skills-canvas directive. code found in js/directives.js --><section id=skills class=\"section-grey container\"><div class=row><h1 class=\"horizontal-center section-title\">Skills</h1></div><div class=row><skills-canvas class=\"col-xs-12 col-sm-9 viewport-height no-padding\"></skills-canvas><div class=\"col-sm-3 col-xs-12\"><pre class=prettyprint>\n\nvar skills = [\n    {\n        skill: 'HTML',\n        competency: 9\n    },\n    {\n        skill: 'CSS',\n        competency: 7\n    },\n    {\n        skill: 'Javascript',\n        competency: 7\n    },\n    {\n        skill: 'Angular',\n        competency: 6\n    },\n    {\n        skill: 'Java',\n        competency: 6\n    },\n    {\n        skill: 'Android',\n        competency: 6\n    },\n    {\n        skill: 'PHP',\n        competency: 3\n    }\n]\n"+'            </pre></div></div></section><!-- Work Section --><section id=work class="section-secondary container"><my-work></my-work></section><!-- Game Section. leaderboard and game directives. code found in js/planetoids/directives.js --><section id=game class="section-grey container" in-view="inView($index, $inview, $inviewInfo)"><div class=row><h1 class="horizontal-center section-title">Play</h1></div><div class=row><div class="col-md-9 col-xs-12 no-padding viewport-height"><game class=full-size></game></div><div class="col-md-3 col-xs-12"><h2>Planetoids</h2><hr><p>Planetoids is a little arcade style game that I created for my website. I grew up on Atari and arcade games so creating this was both fun and nostalgic. My objective was to create a game similar to Asteroids but with a little extra. Below is the leaderboard, try the game out and see if you can beat my score!</p><hr><h3>Leaderboard</h3><leaderboard></leaderboard></div></div></section><!-- About Section --><section id=about class="section-secondary container"><div class=dead-center><img src=./img/family.png class=vertical-responsive></div><div class=row><h1 class="section-title horizontal-center">Me</h1></div><div class="row half-height-desk"><div class="col-xs-12 col-sm-3"><h2>Family</h2><hr><p>I chose four words to describe myself. The first and most obvious word was family. I have a beautiful family made up by my amazing wife and two outstanding boys. They make my life whole and happy and provide all the motivation a man could need.</p></div><div class="col-xs-12 col-sm-3 col-sm-push-6"><h2>Analytical</h2><hr><p>I am a true analytical thinker. Always questioning, researching, and analyzing. The answer alone does not always suffice, I seek to know how and why something is the way it is.</p></div></div><div class="row half-height-desk"><div class="col-xs-12 col-sm-3"><h2>Dreamer</h2><hr><p>I like to dream, and dream big. I many times think about what could be or what could be better.</p></div><div class="col-xs-12 col-sm-3 col-sm-push-6"><h2>Goal-Oriented</h2><hr><p>After dreaming up something big, I like to set goals and work towards them. I find that setting progressive goals towards one major goal is a great way to stay motivated and succeed.</p></div></div></section><!-- Contact Section --><section id=contact class="container section-contact"><div class=filter></div><div class=row><h1 class="horizontal-center section-title">Contact</h1></div><div class=row><div class="col-xs-12 col-sm-8"><form id=contactForm name=contactForm action=./php/contact.php novalidate><div class=container><div class=row><div class=col-xs-6><label for=name>Name:</label><input id=name ng-model=contact.name name=name required><div ng-show="contactForm.$submitted || contactForm.name.$touched"><p class=error-text ng-if=contactForm.name.$error.required>Please tell me your name.</p></div></div><div class=col-xs-6><label for=email>Email:</label><input id=email type=email ng-model=contact.email name=email required><div ng-show="contactForm.$submitted || contactForm.email.$touched"><p class=error-text ng-if=contactForm.email.$error.required>An email address is required.</p><p class=error-text ng-if=contactForm.email.$error.email>This is not a valid email address.</p></div></div></div><div class=row><div class=col-xs-12><label for=msg>Message:</label><textarea id=msg ng-model=contact.msg name=msg form=contactForm required></textarea><div ng-show="contactForm.$submitted || contactForm.msg.$touched"><p class=error-text ng-if=contactForm.msg.$error.required>Don\'t you have anything to say?</p></div></div></div><div class=row><div class="col-xs-pull-4 col-xs-push-4 col-xs-4"><button type=submit form=contactForm class=submit>Send</button></div></div></div></form></div><div class="col-xs-12 col-sm-4"><h2>Follow</h2><hr><div class=social-buttons><a href=https://github.com/GJordan904 target=_blank><img src=./img/github-logo.png class=s-button></a><a href=https://www.facebook.com/codebyjordan/ target=_blank><img src=./img/facebook-logo.png class=s-button></a></div><h2>Chat</h2><hr><div class=col-xs-4><g-hangouts></g-hangouts></div><div class=col-xs-4><fb-message></fb-message></div></div></div></section>'),a.put("views/main.html","<!-- Menu header displayed across all pages. j-menu directive found in js/directives.js --><header class=header><j-menu class=container></j-menu></header><!-- Main Content Loaded based on URL--><main ui-view=mainContent></main>"),a.put("views/partials/leaderboard.html",'<div class="leaderboard container"><div class=col-xs-4><h4>Name</h4></div><div class=col-xs-4><h4>Score</h4></div><div class=col-xs-4><h4>Level</h4></div><div class=col-xs-12><hr></div><div ng-repeat="leader in board.leaders track by $index"><div class=col-xs-4><p>{{leader.name}}</p></div><div class=col-xs-4><p>{{leader.score}}</p></div><div class=col-xs-4><p>{{leader.level}}</p></div></div></div>'),a.put("views/partials/menu.html","<button class=menu-button ng-click=toggle()><span class=hamburger ng-class=\"{adjust: !isCollapsed}\"><span class=burger-bar ng-class=\"isCollapsed ? 'topBurger' : 'animateTopBarClose'\"></span> <span class=burger-bar ng-class=\"isCollapsed ? 'middleBurger' : 'animateBottomBarClose'\"></span> <span class=burger-bar ng-class=\"isCollapsed ? 'bottomBurger' : 'animateBottomBarClose'\"></span> <span class=\"menu-text animated hidden-xs\">Menu</span></span></button><div id=menu class=\"menuHidden container\"><div class=row><div class=logo><img src=./img/logoSmall.png></div></div><div class=row><nav class=menu-nav><ul><li><a nav-down=video ng-click=toggle()>Home</a></li><li><a nav-down=skills ng-click=toggle()>Skills</a></li><li><a nav-down=work ng-click=toggle()>Work</a></li><li><a nav-down=about ng-click=toggle()>About</a></li><li><a nav-down=contact ng-click=toggle()>Contact</a></li></ul></nav></div></div>"),a.put("views/partials/myWork.html",'<div class=row><h1 class="horizontal-center section-title">Work</h1></div><div id=workView class="row animated"><div class="col-sm-9 col-xs-12 viewport-height no-padding"><iframe ng-src={{work.iframeLink}} width=100% height=100% scrolling={{work.scroll}} frameborder=0></iframe></div><div class="col-sm-3 col-xs-12 work-info"><div class=container><div class="row work-nav"><div class="col-xs-2 no-padding" ng-click=work.prevWork()><i class="fa fa-chevron-left fa-2x"></i></div><div class="col-xs-8 no-padding"><h2>{{work.title}}</h2></div><div class="col-xs-2 no-padding" ng-click=work.nextWork()><i class="fa fa-chevron-right fa-2x"></i></div></div></div><div class=container><div class=row><div class=col-xs-12><h3>About</h3><hr><p>{{work.description}}</p><h3>Tags</h3><hr><div class=tag ng-repeat="tag in work.tags">{{tag}}</div></div></div></div></div></div>'),a.put("views/partials/videoCover.html","<div class=video-container><div class=filter><div class=cover-logo><img class=vertical-responsive src=./img/logoLarge.png><h1>Portfolio site of aspiring developer, Grant Jordan <span>Current skills: Java, Android, Javascript, HTML, and CSS</span></h1></div></div><video id=player autoplay loop class=fillWidth poster=./img/video_cover/Snapshots/Love-Coding.jpg><source src=./img/video_cover/MP4/Love-Coding.mp4 type=video/mp4>Your browser does not support the video tag. I suggest you upgrade your browser.<source src=./img/video_cover/WEBM/Love-Coding.webm type=video/webm>Your browser does not support the video tag. I suggest you upgrade your browser.</video></div>")}]);
//# sourceMappingURL=app.js.map